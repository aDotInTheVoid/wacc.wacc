#ifndef IO_WACC_IN
#define IO_WACC_IN

#include "gen/utils.wacc.in"
#include "utils.wacc.in"

// Iurii extension;
extern int getchar()

pair(char[], int) readAll() is
    char[] buffer = call calloc(1000);
    // TODO: Realloc buffer
    int i = 0;
    bool run = true;
    while (run) do
        int c = call getchar();
        if (c == -1) then
            run = false
        else
            buffer[i] = chr c;
            i = i + 1
        fi
    done ;
    RETVRN(pair(char[], int), newpair(buffer, i))
end

VOID printStr(char[] str, int start, int lenn) is
    int i = 0;
    while (i < lenn) do
        print str[start + i];
        i = i + 1
    done ;
ENDV

#endif